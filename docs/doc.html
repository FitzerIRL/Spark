<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Spark</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:300,400,600,700,800,900" rel="stylesheet">
    <link rel="stylesheet" href="spark-global.css">
    <link rel="stylesheet" href="spark-doc.css">
    <link rel="author" href="humans.txt">
  </head>
  <body>
    <div class="doc__bg"></div>
    <nav class="header">
      <h1 class="logo">Spark <span class="logo__thin">Doc</span></h1>
      <ul class="menu">
        <div class="menu__item toggle"><span></span></div>
        <li class="menu__item"><a href="" class="link link--dark"><i class="fa fa-github"></i> Github</a></li>
        <li class="menu__item"><a href="index.html" class="link link--dark"><i class="fa fa-home"></i> Home</a></li>
      </ul>
    </nav>
    <div class="wrapper">
      <aside class="doc__nav">
        <ul>
          <li class="js-btn selected">What is Spark?</li>
          <li class="js-btn">Getting Started</li>
          <li class="js-btn">px Framework</li>
          <li class="js-btn">The API</li>
          <li class="js-btn">Configuration</li>
          <li class="js-btn">Authoring Applications</li>
        </ul>
      </aside>
      <article class="doc__content">
        <section class="js-section">
          <h3 class="section__title">What is Spark?</h3>
          <p>Spark is a cross-platform application engine. It is a native C++ scene graph API exposed to a Javascript engine. 
            It allows applications to be written in JavaScript to use native rendering functionality. 
            The authored javascript has access to the pxscene API for visual elements that are used for composition.
              <ul style="list-style-type:circle">
                <li>supports rich animation and alpha masking primitives</li>
                <li>exposes a DOM-like programming model</li>
                <li>supports promises for asynchronous behaviors</li>
                <li>uses W3C event bubbling semantics</li>
                <li>allows for runtime logic to be in downloaded javascript, running on devices</li>
            </ul>
          </p>
          <p>Spark is built on top of a project called &quot;pxCore&quot;.  pxCore is a small lightweight library that provides a portable 
            framebuffer and windowing abstraction for C++.  Spark is a 2d scene graph API that defines a small set of atomic UI elements and exposes them 
            with JavaScript wrappers.  The result is a lightweight, portable application engine that can be used to build rich application experiences.</p>
          <p>A high level representation of the runtime stack is below</p>
          <p><img src="images/sparkStackHighLevel.png"></p>
          <p>The stack components.
          <ul>
             <li>Native OS and graphic drivers - provides specific kernel, OS and UI services for the native system</li>
             <li>pxCore - provides UI scene and primitive components used by the px Framework to render components.  Most
                of pxCore is creating using C++, with JavaScript bindings to its UI API.
             </li>
             <li>Cross-Platform Environment - provides asynchronous runtime services required by applications, such as
                http access, task scheduling, etc.  The initial implementation is based on Node-JS and Chrome's V8
                JavaScript engine.  However, this may vary based on the target platform.
             </li>
             <li>px Framework - provides the public JavaScript API for creating reusable UI modules and applications, in
                addition to the facilities for loading and launching px-based application modules.  Since the px Framework is just 
                one example of what could be done with the pxCore library, its source can be found in the &quot;examples&quot; section 
                of the pxCore GitHub Repository:  <a href="https://github.com/pxscene/pxCore/tree/master/examples/pxScene2d" class="link link--dark">examples/pxScene2d</a>
             </li>
          </ul>
          </p>
        </section>
        <hr />
        <section class="js-section">
          <h3 class="section__title">Getting Started</h3>
          <p>To get started, download and install the Spark binary for your platform. Then follow the instructions to run a few simple Spark applications.</p>
          <h4 class="section__title">Install</h4>
          <p>Two different flavors of Spark builds are available: stable and edge. <br/>
            <ul style="list-style-type:circle">  
              <li><i>Stable</i> builds are release builds that have been tested and verified. </li>
              <li><i>Edge</i> builds are built daily by a chron job, so they represent the bleeding-edge of the latest Spark code.</li>
            </ul>
          </p><br/>
          <div class="installation">
              <div class="tab__container">
                <ul class="tab__menu">
                  <li class="tab active" data-tab="mac">mac</li>
                  <li class="tab" data-tab="linux">linux</li>
                  <li class="tab" data-tab="win">win</li>
                  <li class="tab" data-tab="pi">pi</li>
                </ul>
                <pre class="nohighlight code">
                  <code class="tab__pane active mac" >
                    <img src="images/Spark128.png" height="25" align="middle">
                    <strong>
                      <a href="dist/osx/pxscene/Spark.dmg" class="link link--dark">stable</a>
                    </strong>
                    &nbsp;&nbsp;
                    
                    <img src="images/SparkEdge128.png" height="25" align="middle">
                    <strong>
                      <a href="http://96.116.56.119/edge/osx/artifacts/SparkEdge.dmg" class="link link--dark">
                        <superscript>edge</superscript>
                      </a>
                    </strong>
                    <br/>
                    <br/>
      
                    <strong>Minimum System Requirements:</strong> &nbsp; OS: Macbook Pro (macOS Sierra) &nbsp; | &nbsp; RAM: 256 MB &nbsp; | &nbsp; Disk
                    Space: 24 MB &nbsp; | &nbsp; Processor Speed:1 GHz
      
                   </code>
                  <code class="tab__pane linux">No installer available.  See for Spark build instructions: TBD</code>
                  <code class="tab__pane win">          
                    <img src="images/Spark128.png" height="25"  align="middle">
                    <strong><a href="https://github.com/pxscene/pxCore/releases/download/0.41.1.0/pxscene-setup.exe.zip" class="link link--dark">stable</a></strong>&nbsp;&nbsp;
                    
                    <img src="images/SparkEdge128.png"  height="25"  align="middle">
                        <strong><a href="http://96.116.56.119/edge/windows/sparkEdge-setup.exe" class="link link--dark">edge</a></strong>
                        <br/>
                        <br/>
                        <strong>Minimum System Requirements:</strong> &nbsp; OS: Windows 10 &nbsp; | &nbsp; RAM: 128 MB &nbsp; | &nbsp; Disk Space: 24 MB
                        &nbsp; | &nbsp; Processor Speed:1 GHz
                 </code>
                  <code class="tab__pane pi">No installer available.  See for Spark build instructions: TBD</code>
                </pre>
              </div>
            </div><!-- install-->
            <p>Two different flavors of Spark builds are available: stable and edge. <br/>
              <i>Stable</i> builds are release builds that have been tested and verified. <br/>
              <i>Edge</i> builds are built daily by a chron job, so they represent the bleeding-edge of the latest Spark code.</p><br/>

            <h4 class="section__title">Run Samples</h4>
            <p>Now that Spark is installed, run some samples to see what it can do.</p>
            <h5>Option 1: (This is the preferred method for running Spark applications.)</h5>
            <ol>
                <li>Open the installed Spark application</li>
                <li>In the Spark browser window that opens, type in or paste the path to a js file to run.  
                    If not a fully qualified path name, the browser will search in <strong><a href="http://www.pxscene.org/examples/px-reference/gallery" class="link link--dark">pxscene.org</a></strong>
                    for the file name entered.  Source for this location can be found in this github repo: 
                    <strong><a href="https://github.com/johnrobinsn/pxscene/tree/gh-pages" class="link link--dark">pxscene/pxscene</a></strong>  
                    Examples to try:
                    <ul style="list-style-type:circle">
                      <li><i>fancy.js</i>  - a bouncing, animated soccer ball</li>
                      <li><i>event.js</i> – Use mouse movement, mouse and keyboard clicks to cause animated bubbles to appear</li>
                      <li><i>fonts.js</i> – A page where typed text is rendered in a variety of downloaded fonts</li>
                      <li><i>picturepile.js</i> – pictures animating in and landing in random positions in “pile”</li>
                      <li><i>gallery.js</i> – All of the above examples, plus a few more, all loading on the screen at once</li>

                    </ul>
                  </li>
            </ol> 
            <h5>Option 2: Command line</h5>
            <ol>
                <li>Use the start up script to start Spark and pass the path to the js file to run</li>
                <pre class="nohighlight code" >
                  cd /Applications/spark.app/Contents/MacOS
                  ./Spark.sh {path_to_javascript_file_name}.js
                </pre>
                <li>Examples of running from command line with Option 2:
                   <ul style="list-style-type:circle">
                    <li>./Spark.sh http://www.pxscene.org/examples/px-reference/gallery/picturepile.js</li>
                    <li>./Spark.sh http://www.pxscene.org/examples/px-reference/gallery/gallery.js</li>
                  </ul>
                </li>

            </ol> 

        </section>
       
        <hr />
        <section class="js-section">
          <h3 class="section__title">px Framework</h3>
          <p>In order to use the px framework in JavaScript, the application must &quot;import&quot; the scene API to include the versioned API for Spark widgets.
            Spark disables the nodejs &quot;require&quot; keyword and instead provides &quot;px.import&quot; as an asynchronous loading mechanism for including
            modules in applications.</p>  
            
          <p><a href="frameworks_doc.html" class="link link--light">px Framework Documentation</a></p>

        </section>
        <hr />
        <section class="js-section">
          <h3 class="section__title">The API</h3>
          <p>Spark provides atomic building blocks that can be composed into rich sets of components.  Building an application is easy using the Spark API!</p>
          <p>Spark's base widgets can be grouped to make more complex components.  All visual widgets have a basic set of properties for 
            onscreen positioning and dimensions.  In addition, any widget type can act as a parent container for other widget types; the child widgets'
            positions will be relative to their parent's position.</p>
          <p>The main parent container for widgets is called a &quot;scene&quot;.  When an application is started, a root scene is created as the parent for 
            the application scene.  Scenes can then create visual widgets or even other scenes to compose a full application experience. </p>
          <p>Spark widgets are created in JavaScript by passing a property bag to the widget creation API: 
            <pre>     scene.create({t:'scene', url:"http://pxscene.org/examples/px-reference/gallery/gallery.js"});</pre></p>
          <p>Each widget type has a unique set of properties, but all inherit a basic set of properties from the &quot;object&quot; type. 
            We can construct a very simple &quot;Hello World&quot; application with just the following code: 
            <pre>     scene.create({
                   t:"text",                // Element type will be text
                   parent: scene.root,      // Parent element
                   text:"Hello, World!",    // the text
                   x:100, y:100,            // position
                   textColor:0xff0000ff,    // RGBA - red text
                   pixelSize:64});          // font height</pre>
            </p>
            The Hello World example will produce the example screen shown below.
            <p><img src="images/HelloWorldSceneSmall.png"></p>
            </p> 
            <br/>
        
          <p>The base widgets are as follows:
            <ul style="list-style-type:circle">
              <li><a href="apis/index.html#rectangle" class="link link--dark">rect</a></li>
              <li><a href="apis/index.html#text" class="link link--dark">text</a></li>
              <li><a href="apis/index.html#textBox" class="link link--dark">textBox</a></li>
              <li><a href="apis/index.html#image" class="link link--dark">image</a></li>
              <li><a href="apis/index.html#image9" class="link link--dark">image9</a></li>
              <li><a href="apis/index.html#imageA" class="link link--dark">imageA</a></li>
              <li><a href="apis/index.html#object" class="link link--dark">object</a></li>
              <li><a href="apis/index.html#scene" class="link link--dark">scene</a></li>
              <li><a href="apis/index.html#wayland" class="link link--dark">external</a></li>
            </ul>
          </p>
          <p>The detailed API document is <a href="apis/index.html" class="link link--dark">here</a>.</p>
        </section>
        <hr />
        <section class="js-section">
          <h3 class="section__title">Configuration</h3>
          <p>Spark is ready to go &quot;out of the box&quot;, but can be configured for some advanced settings, if needed.  
            Settings currently supported include modifications to default window size and texture memory allowances.</p>
          <p>Spark settings can be set either via the command line (when launching Spark) or through a configuration file.  
            To use the configuration file, create a file called .sparkSettings.json in your Home directory.
            The configuration file will be in json format with key value pairs and will look something like this: </p>
            <div class="nohighlight code" align="left" >
                <code>{"screenWidth":1280, "screenHeight":720}</code>
            </div>
          <table id="customers">
            <tr>
              <th>Options</th>
              <th>Usage</th>
              <th>Type</th>
              <th>Default</th>
            </tr>
            <tr>
              <td>screenWidth</td>
              <td>Specifies the width of the Spark window in pixels</td>
              <td>integer</td>
              <td>1280</td>
            </tr>
            <tr>
              <td>screenHeight</td>
              <td>Specifies the height of the Spark window in pixels</td>
              <td>integer</td>
              <td>720</td>
            </tr>
            <tr>
              <td>enableTextureMemoryMonitoring</td>
              <td>Enables the monitoring of texture memory</td>
              <td>boolean</td>
              <td>false</td>
            </tr>
            <tr>
              <td>textureMemoryLimitInMb</td>
              <td>Specifies the maximum amount of texture memory Spark can occupy</td>
              <td>integer</td>
              <td>85 MB</td>
            </tr>
            <tr>
              <td>autoUpdateEdge</td>
              <td>Allow the edge build to be automatically updated to the latest build.</td>
              <td>boolean</td>
              <td>true</td>
            </tr>
          </table>
        <p>Under normal circumstances, Spark does not support the <i>require</i> keyword.  However, by creating a file called <i>.pxsceneEnableRequire</i> in the HOME directory, some distributions of 
        the Spark binary do support it.</p>
        <h4>Other Configuration Options</h4>
        <ul style="list-style-type:circle">
          <li><i>Control logging level from Spark runtime</i>: An environment variable called <b>RT_LOG_LEVEL</b> controls the debug logging level of the Spark runtime. 
            Valid values in order of greatest to least verbosity are as follows:
          <ul>
            <li>debug</li><li>info</li><li>warn</li><li>error</li><li>fatal</li></ul></li>
        </ul>
       
      </section>
      <hr/>
      <section class="js-section">
        <h3 class="section__title">Authoring Applications</h3>
        <p> When authoring Spark applications, there are many things to consider, such as caching and bundling applications and their resources. 
          In addition, there are many Tips and Tricks that may be helpful when getting up and running with Spark for the first time. </p>
        <p>We hope this <a href="app_authoring_doc.html" target="_blank" class="link link--light">Application Authoring Documentation</a> will help. </p>
      </section>
      </article>
    </div>

    <footer class="footer">Spark is an open source project in github <a href="https://github.com/pxscene/pxCore" target="_blank" class="link link--light">GitHub</a>.</footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="scribbler.js"></script> 
  </body>
</html>